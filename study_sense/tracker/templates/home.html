import React from "react";
import { MDBContainer, MDBRow, MDBCol, MDBBtn } from "mdb-react-ui-kit";

function App() {
  return (
    <MDBContainer fluid className="p-0 m-0 d-flex">
      <MDBCol className="bg-secondary p-3" style={{ width: "20%", height: "100vh", overflowY: "auto" }}>
        <div className="header">
          <h2>Categories</h2>
        </div>
        {categories.map((cat) => (
          <div key={cat.id}>
            <button className="accordion">{cat.name}</button>
            <div className="panel">
              {cat.book_set.length > 0 ? (
                cat.book_set.map((book) => (
                  <button
                    key={book.id}
                    onClick={() => window.location.href = `display?book_id=${book.id}`}
                  >
                    {book.name}
                  </button>
                ))
              ) : (
                <p>No books available in this category.</p>
              )}
            </div>
          </div>
        ))}
      </MDBCol>
      <MDBCol className="p-3" style={{ width: "80%" }}>
        <div className="d-flex align-items-center">
          <img src="/static/images/logo.png" height="50" width="50" alt="Logo" />
          <h1 className="mx-3">StudySense</h1>
        </div>
        <div className="bg-primary p-3">
          <form method="POST" encType="multipart/form-data">
            <div className="form-group">
              <label htmlFor="name">Enter the File Name:</label>
              <input type="text" className="form-control" id="name" name="name" />
            </div>
            <div className="form-group">
              <label htmlFor="cat">Select the Category:</label>
              <input list="categories" placeholder="Enter Here" className="form-control" id="cat" name="cat" />
              <datalist id="categories">
                {categories.map((cat) => (
                  <option key={cat.id} value={cat.name} />
                ))}
              </datalist>
            </div>
            <div className="form-group">
              <label htmlFor="myfile">Select a file:</label>
              <input type="file" className="form-control" id="myfile" name="myfile" />
            </div>
            <MDBBtn type="submit">Upload</MDBBtn>
          </form>
        </div>
        <div className="p-3">
          <h1>Summary</h1>
          {categories.map((cat) => (
            <h3 key={cat.id}>
              {cat.name} - {cat.total_time} Seconds
            </h3>
          ))}
        </div>
      </MDBCol>
    </MDBContainer>
  );
}

export default App;
